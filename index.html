<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="cards">
            <div class="face front"><img src="card-face.jpg" alt=""></div>
            <div class="face back"></div>
        </div>
        <div class="cards">
            <div class="face front"><img src="card-face.jpg" alt=""></div>
            <div class="face back"></div>
        </div>
        <div class="cards">
            <div class="face front"><img src="card-face.jpg" alt=""></div>
            <div class="face back"></div>
        </div>
        <div class="cards">
            <div class="face front"><img src="card-face.jpg" alt=""></div>
            <div class="face back"></div>
        </div>
        <div class="cards">
            <div class="face front"><img src="card-face.jpg" alt=""></div>
            <div class="face back"></div>
        </div>
        <div class="cards">
            <div class="face front"><img src="card-face.jpg" alt=""></div>
            <div class="face back"></div>
        </div>
        <div class="cards">
            <div class="face front"><img src="card-face.jpg" alt=""></div>
            <div class="face back"></div>
        </div>
        <div class="cards">
            <div class="face front"><img src="card-face.jpg" alt=""></div>
            <div class="face back"></div>
        </div>
        <div class="cards">
            <div class="face front"><img src="card-face.jpg" alt=""></div>
            <div class="face back"></div>
        </div>
    </div>
    <div class="cardsOpeningCount">Opened Cards - 0/3</div>
    <div class="gameVersion">Beta v.0.4</div>

    <script src="jquery.min.js"></script>
    <script type="text/javascript">
        var cards = document.querySelectorAll(".container .cards");
        var cardOpenCount = document.querySelectorAll(".cardOpenCount");
        var openedCardsCounter = 0;
        var cardsOpeningCount = document.getElementsByClassName("cardsOpeningCount")[0];
        cards.forEach(function (key) {
            key.addEventListener("click", function() {
                var cardToggle = this.classList.toggle("active");
                if (cardToggle) {
                    openedCardsCounter++;
                    cardsOpeningCount.innerHTML = "Opened Cards - " + openedCardsCounter + "/3";
                }
                if (openedCardsCounter >= 3 && !($('.coinImg').parent().parent().hasClass("active")) ) {
                    setTimeout(function() {
                        alert("You Lose!");
                        location.reload();
                    }, 500);
                    
                }
            });
        });

        var randomNum = Math.floor(Math.random() * 9);
            console.log(randomNum);
            
        $('.face.back').eq(randomNum).append("<img class='coinImg' src='coin.png'>");
        $('.coinImg').parent().parent().click(function() {
        cards.forEach(function (key) {
            key.addEventListener("click", function() {
                this.classList.remove("active");
            });
        });
                setTimeout(function() {
                    alert("You Win!");
                    location.reload();
                }, 1200);
            });

    </script>
</body>
</html>